{% set src = "/Users/shan/Projects/kingnet/game_gm/gm-business/src/main/java/gm/business" %}
{% set resources = "/Users/shan/Projects/kingnet/game_gm/gm-business/src/main/resources" %}

{% for table in db.tables %}
    {% set table_name = table.name | pascal %}

    {{ render(template="springboot/entity.twig", data=table, output= src ~ "/entity/" ~ table_name ~ ".java") }}
    {{ render(template="springboot/controller.twig", data=table, output= src ~ "/controller/" ~ table_name ~ "Controller.java") }}
    {{ render(template="springboot/mapper.twig", data=table, output= src ~ "/mapper/" ~ table_name ~ "Mapper.java") }}
    {{ render(template="springboot/mapper_xml.twig", data=table, output= resources ~ "/mapper/" ~ table_name ~ ".xml") }}
    {#    {{ render('springboot/mapper.twig', data, "#{db.name}/mapper/#{table.name | pascal }Mapper.java") }} #}
    {#    {{ render('springboot/mapper_xml.twig', data, "#{db.name}/mapper_xml/#{table.name | pascal }.xml") }} #}

    {#    {{ render('lumen/js/service.twig', {'table':table}, "#{db.name}/js/service/#{table.name | lower }.js")}} #}
    {#    {{ render('lumen/js/model.twig', {'table':table}, "#{db.name}/js/model/#{table.name | lower }.js")}} #}
    {#    {{ render('lumen/js/page/index.twig', {'table':table}, "#{db.name}/js/page/#{table.name | pascal }/index.jsx")}} #}
    {#    {{ render('lumen/js/page/create.twig', {'table':table}, "#{db.name}/js/page/#{table.name | pascal }/create.jsx")}} #}
    {#    {{ render('lumen/js/page/update.twig', {'table':table}, "#{db.name}/js/page/#{table.name | pascal }/update.jsx")}} #}

{% endfor %}
{{ render(template="springboot/permission.twig", data=db, output= src ~ "/permission.sql") }}

{{ render(template="springboot/validator/belongs_to.twig", data=db, output= src ~ "/validator/BelongsTo.java") }}
{{ render(template="springboot/validator/belongs_to_validator.twig", data=db, output= src ~ "/validator/BelongsToValidator.java") }}
{{ render(template="springboot/validator/set.twig", data=db, output= src ~ "/validator/Set.java") }}
{{ render(template="springboot/validator/set_validator.twig", data=db, output= src ~ "/validator/SetValidator.java") }}
{{ render(template="springboot/validator/create_group.twig", data=db, output= src ~ "/validator/CreateGroup.java") }}
{{ render(template="springboot/validator/default_group.twig", data=db, output= src ~ "/validator/DefaultGroup.java") }}

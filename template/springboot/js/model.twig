import { message } from 'antd';
import { get, query, create, update, destory } from '@/services/{{table.name | pascal}}';

const Model = {
  namespace: '{{table.name | pascal}}',
  state: {
  },
  effects: {
    *create({ payload, callback }, { call }) {
      const res = yield call(create, payload);
      if (res !== false) {
        message.success('提交成功');
        callback(res)
      }
    },
    *update({ payload, callback }, { call }) {
      const res = yield call(update, ...payload);
      message.success('提交成功');
      callback(res)
    },
    *get({ payload, callback }, { call, put }) {
      const data = yield call(get, payload);
      callback(data)
    },
    *query({ payload, callback }, { call, put }) {
      const data = yield call(query, payload);
      callback(data)
    },
    *destory({ payload, callback }, { call, put }) {
      const data = yield call(destory, payload);
      message.success('提交成功');
      callback(data)
    },
  },
  reducers: {

  },
};
export default Model;
